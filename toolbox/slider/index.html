<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Autoplay slider (vanilla js)</title>
    <link rel="stylesheet" href="/assets/css/base.css?v=1.8">
    <style>
        .slider {
            position: relative;
            width: 400px;
            max-width: 100%;
        }
        .slider:before {
            content: "";
            display: block;
            /* (ref) https://stackoverflow.com/a/10441480 */
            /* (or:) https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio */
            padding-bottom: 50%;
        }
        .slide {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            visibility: hidden;
            opacity: 0;
            transition: opacity .5s;
        }
        .slide.show {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>

<body>

    <div class="wrapper tool">

        <h1>Autoplay slider (vanilla js)</h1>

        <ul>
            <li>Minimal style, autoplay with pause on mouseover, no other controls.</li>
            <li>Simple fade in/out while playing.</li>
            <li>Free of js/css libraries. Just view source and grab the code.</li>
        </ul>

        <h2>Demos</h2>

        <div class="slider">
            <div class="slide show" style="background-image: url('https://picsum.photos/id/1/800/400');"></div>
            <div class="slide" style="background-image: url('https://picsum.photos/id/2/800/400');"></div>
            <div class="slide" style="background-image: url('https://picsum.photos/id/3/800/400');"></div>
        </div>

        <p><a href="/toolbox/">&lt; toolbox</a></p>

    </div>

    <script>
        (function() {
            let i = 0;
            let paused = false;
            const slider = document.querySelector('.slider');
            const slides = document.querySelectorAll('.slide');
            function start() {
                setTimeout(play, 3000);
            }
            function pause() {
                paused = true;
            }
            function resume() {
                paused = false;
                start();
            }
            function play() {
                if (!paused) {
                    slides[i].classList.remove('show');
                    if (i < slides.length - 1) {
                        i++;
                    } else {
                        i = 0;
                    }
                    slides[i].classList.add('show');
                    start();
                }
            }
            if (slider) {
                slider.addEventListener("mouseover", pause);
                slider.addEventListener("mouseout", resume);
                start();
            }
        })();
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-80K3VGWK1J"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-80K3VGWK1J');
    </script>

</body>

</html>
