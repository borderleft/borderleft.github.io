---
layout: tool
title: "Query posts (wordpress)"
---

<h1>{{ page.title }}</h1>

<p>Get all pages under a parent page.</p>

<pre><code>&lt;?php
    query_posts(array(
        &apos;post_parent&apos; =&gt; $post-&gt;ID,
        &apos;post_type&apos; =&gt; &apos;page&apos;,
        &apos;posts_per_page&apos; =&gt; -1
    ));

    if (have_posts()) {
        echo &apos;&lt;ul&gt;&apos;;
        while (have_posts()) {
            the_post();
            printf(
                &apos;&lt;li&gt;&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;&lt;/li&gt;&apos;,
                esc_url(get_permalink()),
                esc_html(get_the_title())
            );
        }
        echo &apos;&lt;/ul&gt;&apos;;
        wp_reset_query();
    }
?&gt;</code></pre>

<p><code>template.php</code></p>
